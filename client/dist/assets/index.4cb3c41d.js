var F=Object.defineProperty,E=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var S=(s,t,l)=>t in s?F(s,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[t]=l,w=(s,t)=>{for(var l in t||(t={}))Q.call(t,l)&&S(s,l,t[l]);if(N)for(var l of N(t))B.call(t,l)&&S(s,l,t[l]);return s},z=(s,t)=>E(s,O(t));import{r as u,j as e,a as c,P,L as T,T as V,b as H,C as W,F as C,m,c as J,u as D,B as $,d as U,R as Y,e as L,f as K,g as G}from"./vendor.b30eca7b.js";const X=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const f of r.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function l(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(i){if(i.ep)return;i.ep=!0;const r=l(i);fetch(i.href,r)}};X();const Z="quizzy-";function j(s,t){const l=`${Z}${s}`,[a,i]=u.exports.useState(()=>{const r=localStorage.getItem(l);return r!=null?JSON.parse(r):typeof t=="function"?t():t});return u.exports.useEffect(()=>{localStorage.setItem(l,JSON.stringify(a))},[a,l]),[a,i]}const y=["#0088FE","#00C49F","#FFBB28","#FF8042"],k=Math.PI/180,_=({cx:s,cy:t,midAngle:l,innerRadius:a,outerRadius:i,percent:r,_:f})=>{const n=a+(i-a)*.5,o=s+n*Math.cos(-l*k),d=t+n*Math.sin(-l*k);return r?e("text",{x:o,y:d,fill:"white",textAnchor:o>s?"start":"end",dominantBaseline:"central",children:`${(r*100).toFixed(0)}%`}):e(C,{})};function I({data:s,resize:t}){const[l,a]=u.exports.useState(t?Math.min(window.innerWidth/2,window.innerHeight)*.75:Math.min(window.innerWidth,window.innerHeight)*.75);return u.exports.useEffect(()=>{const i=()=>{let r=Math.min(window.innerWidth,window.innerHeight)*.75;t&&(r=r*.5),a(r)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)}),e("div",{className:"flex justify-center cursor-pointer",children:c(P,{width:l,height:l,children:[e(T,{layout:"horizontal",verticalAlign:"top",align:"center"}),e(V,{}),e(H,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:_,outerRadius:l/2-50,fill:"#8884d8",dataKey:"value",children:s.map((i,r)=>e(W,{fill:y[r%y.length]},`cell-${r}`))})]})})}function q({answer:s,setAnswer:t,sendMessage:l,question:a,result:i,notice:r}){var n;const f=u.exports.useCallback(o=>{s===null&&(l(JSON.stringify({type:"answer",data:JSON.stringify(o)})),t(o))},[s]);return c("div",{children:[r&&c(m.div,{initial:{opacity:0,y:-100},animate:{opacity:1,y:20},transition:{duration:.5},className:"fixed right-5 top-0 bg-gray-200 h-14 flex items-center text-center",children:[e("div",{className:"p-2 text-2xl",children:r}),e(m.div,{initial:{width:0},animate:{width:"100%"},transition:{duration:1.5},className:"bg-blue-600 w-full absolute bottom-0 h-2"})]}),s===null?e("div",{className:"relative",children:a&&c(C,{children:[e("div",{className:"flex justify-center text-4xl p-4 tablet:pt-12 tablet:pb-12 mobile:pt-4 mobile:pb-8 mobile:mb-8 tablet:mb-1 relative bubble",children:e("p",{className:"thought",children:a.data})}),e("div",{className:"gap-4 flex mobile:flex-col laptop:flex-row justify-center tablet:flex-wrap p-8 options",children:(a==null?void 0:a.options)&&a.options.map((o,d)=>e("div",{className:"flex justify-center",children:e(m.span,{initial:{opacity:0,width:0},animate:{opacity:1,x:0,width:"100%"},transition:{duration:d*.5+.5},onClick:()=>f(d),className:"border-2 border-black mobile:p-4 tablet:p-12 mobile:w-full flex justify-center rounded-md mobile:text-3xl tablet:text-4xl cursor-pointer option",children:o})},`${o}-${d}`))})]})}):c("div",{children:[e("div",{className:"flex justify-center text-4xl p-4 tablet:pt-12 tablet:pb-12 mobile:pt-4 mobile:pb-8 mobile:mb-8 tablet:mb-1 relative bubble",children:e("p",{className:"thought",children:((n=a==null?void 0:a.data)==null?void 0:n.length)&&a.data})}),c("div",{className:"flex justify-center text-center text-2xl",children:["Your answer is:"," ",e("span",{className:"ml-2",style:{color:y[s]},children:a==null?void 0:a.options[s]})]}),e("div",{children:e(I,{data:i})})]})]})}function ee({mobileView:s,result:t,question:l,clearResult:a}){const[i,r]=u.exports.useState(0);return u.exports.useEffect(()=>r(t.reduce((f,n)=>f+n.value,0)),[t]),c("div",{className:"flex flex-col gap-8 tablet:w-screen mobile:w-screen laptop:w-1/2 p-2",style:{background:"#9AD0EC"},children:[c("div",{className:"flex justify-between text-4xl font-bold",children:[e("div",{children:"On Going"}),e("div",{style:{width:"40px",height:"40px"},className:"text-black hover:text-red-500 cursor-pointer",onClick:a,children:e("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"trash-alt",className:"svg-inline--fa fa-trash-alt fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:e("path",{fill:"currentColor",d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"})})})]}),e("div",{className:"flex justify-center text-4xl w-100",children:e("div",{style:{background:"#FFF2F9",color:"#7A0BC0"},className:"p-4 rounded-lg text-center",children:l==null?void 0:l.data})}),e("div",{className:"flex text-center justify-center",children:e(I,{data:t,resize:!s})}),c("div",{className:"flex text-center justify-center text-2xl",children:["Total: ",i]})]})}function te({isOpen:s,sendQuestion:t,setIsOpen:l,questions:a}){return c(m.div,{className:"flex overflow-y-auto sticky top-0 z-20",style:{background:"#323232",minWidth:s?400:55},animate:{width:s?"400px":"55px"},children:[e(m.div,{className:"cursor-pointer text-white hover:text-lime-300 relative z-30",animate:{x:s?350:0,rotate:s?180:0},style:{width:50,height:50},children:e("svg",{width:50,height:50,"aria-hidden":"true",focusable:"false","data-prefix":"fad","data-icon":"angle-double-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:"svg-inline--fa fa-angle-double-right fa-w-14 fa-5x",onClick:()=>l(()=>!s),children:c("g",{className:"fa-group",children:[e("path",{fill:"currentColor",d:"M224 273L88.37 409a23.78 23.78 0 0 1-33.8 0L32 386.36a23.94 23.94 0 0 1 0-33.89l96.13-96.37L32 159.73a23.94 23.94 0 0 1 0-33.89l22.44-22.79a23.78 23.78 0 0 1 33.8 0L223.88 239a23.94 23.94 0 0 1 .1 34z",className:"fa-secondary"}),e("path",{fill:"currentColor",d:"M415.89 273L280.34 409a23.77 23.77 0 0 1-33.79 0L224 386.26a23.94 23.94 0 0 1 0-33.89L320.11 256l-96-96.47a23.94 23.94 0 0 1 0-33.89l22.52-22.59a23.77 23.77 0 0 1 33.79 0L416 239a24 24 0 0 1-.11 34z",className:"fa-primary"})]})})}),e("div",{className:"mt-16 text-white text-2xl flex flex-col gap-2",children:s&&a.map((i,r)=>c("div",{className:"flex gap-2",children:[e(m.div,{initial:{opacity:0},animate:{opacity:1},style:{marginLeft:"-40px",marginRight:"5px"},className:"p-4 border-2 w-80 cursor-pointer hover:text-yellow-400 overflow-hidden text-ellipsis whitespace-nowrap rounded-md",children:i.data},r),e("div",{className:"flex items-center cursor-pointer",onClick:()=>t(i),children:e("div",{style:{width:"50px",height:"50px"},className:"text-white hover:text-yellow-200",children:e("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"play-circle",className:"svg-inline--fa fa-play-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:e("path",{fill:"currentColor",d:"M371.7 238l-176-107c-15.8-8.8-35.7 2.5-35.7 21v208c0 18.4 19.8 29.8 35.7 21l176-101c16.4-9.1 16.4-32.8 0-42zM504 256C504 119 393 8 256 8S8 119 8 256s111 248 248 248 248-111 248-248zm-448 0c0-110.5 89.5-200 200-200s200 89.5 200 200-89.5 200-200 200S56 366.5 56 256z"})})})})]},r))})]})}function le({addQuestions:s,sendQuestion:t}){const l=u.exports.useRef(null),[a,i]=u.exports.useState({type:"question",data:"",options:[""]}),r=n=>{let o=n.target.result,d=JSON.parse(o);s(d)};return c("div",{className:"flex flex-col gap-8 tablet:w-screen mobile:w-screen laptop:w-1/2 p-2",children:[e("div",{className:"flex justify-center",children:c("div",{style:{width:"40px",height:"40px"},className:"cursor-pointer text-black hover:text-orange-700",onClick:()=>{var n;return(n=l.current)==null?void 0:n.click()},children:[e("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"upload",className:"svg-inline--fa fa-upload fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:e("path",{fill:"currentColor",d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"})}),e("input",{ref:l,type:"file",accept:".json",hidden:!0,onChange:n=>{var d,p;if(!((p=(d=n==null?void 0:n.target)==null?void 0:d.files)==null?void 0:p.length))return;let o=new FileReader;o.onload=r,o.readAsText(n.target.files[0])}})]})}),e("div",{className:"flex justify-center text-2xl",children:"ADD QUESTION"}),c("div",{className:"flex pr-8",children:[e("div",{className:"w-1/3 text-2xl items-center justify-center flex",children:"Question:"}),e("textarea",{rows:5,className:"border-2 rounded-md w-full text-2xl p-4",value:a.data,onChange:n=>{let o=w({},a);o.data=n.target.value,i(o)}})]}),c("div",{className:"flex flex-col gap-4",children:[e("div",{className:"w-1/3 h-16 text-2xl items-center flex",children:"Options:"}),a.options.map((n,o)=>c("div",{className:"flex",children:[e(m.input,{initial:{x:-300},animate:{x:0},className:"border-2 rounded-md w-full h-16 text-2xl pl-4 pr-4",value:n,onChange:d=>{let p=w({},a);p.options[o]=d.target.value,i(p)}}),e("div",{style:{width:"40px"},className:"items-center flex ml-4 text-black hover:text-red-400 cursor-pointer",onClick:()=>{let d=w({},a);d.options.splice(o,1),i(d)},children:e("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"minus-circle",className:"svg-inline--fa fa-minus-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:e("path",{fill:"currentColor",d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"})})})]},o)),e("div",{className:"flex justify-center text-black hover:text-blue-400 cursor-pointer",children:e("div",{style:{width:"40px",height:"40px"},children:e("svg",{onClick:()=>{i(z(w({},a),{options:[...a.options,""]}))},"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"plus-circle",className:"svg-inline--fa fa-plus-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:e("path",{fill:"currentColor",d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"})})})})]}),e("div",{className:"flex justify-center",children:e("div",{className:"text-3xl border-4 border-black p-8 rounded-lg text-white font-bold cursor-pointer hover:bg-neutral-800 bg-red-800",onClick:()=>{let n=w({},a);if(n.options=n.options.filter(o=>o),n.options.length<2){alert("Please add atleast two options");return}t(n)},children:"START QUESTION"})})]})}const ae=window.location.protocol+"//"+window.location.host+"/admin";function ie({setIsAdmin:s}){const[t,l]=u.exports.useState("");return c("div",{className:"p-8 flex flex-col gap-4",children:[e("div",{className:"flex justify-center text-3xl",children:e("input",{type:"password",className:"h-16 p-2 text-right",value:t,onChange:i=>l(i.target.value)})}),e("div",{className:"flex justify-center text-4xl font-bold",children:e("div",{className:"border-2 border-blue-500 p-4 rounded-md hover:text-green-800 cursor-pointer hover:border-yellow-400",onClick:()=>{J.post(ae,{password:t}).then(i=>{console.log(i.data),i.data==="Success"?s(!0):(alert("Wrong password!"),l(""))})},children:"Login"})})]})}const M={type:"question",data:"Yes or No?",options:["Yes","No"]};function se({sendMessage:s,result:t,question:l,setResult:a}){const[i,r]=u.exports.useState(!1),[f,n]=u.exports.useState(!1),[o,d]=u.exports.useState([M]),[p,b]=u.exports.useState(!1),h=x=>s(JSON.stringify(x)),v=()=>{s(JSON.stringify({type:"clear",data:""})),a([])},g=x=>{let A=[M,...x];d(A)};return u.exports.useEffect(()=>{const x=()=>n(window.innerWidth<500);return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)}),p?c("div",{className:"flex justify-between relative h-full",children:[e(te,{questions:o,sendQuestion:h,isOpen:i,setIsOpen:r}),c("div",{className:"flex mobile:flex-col laptop:flex-row relative z-0",style:{width:"calc(100vw - 60px)",overflowX:"hidden"},children:[e(le,{addQuestions:g,sendQuestion:h}),e(ee,{result:t,mobileView:f,question:l,clearResult:v})]})]}):e(ie,{setIsAdmin:b})}const re=(window.location.protocol=="https:"&&"wss://"||"ws://")+window.location.host+"/ws",R={msg:"question",data:"",options:[]};function ne(){const{sendMessage:s,lastMessage:t}=D(re,{shouldReconnect:()=>!0,reconnectInterval:5e3}),[l,a]=j("question",R),[i,r]=j("answer",null),[f,n]=u.exports.useState([]),[o,d]=u.exports.useState("");u.exports.useState(!1);const[p,b]=u.exports.useState(null);return u.exports.useEffect(()=>{if(t!==null){if(!t.data)return;const h=JSON.parse(t.data);if(h.type==="question"){if(h.data!==l.data){d("The question has been changed!"),r(null),a(h),n([]),p!==null&&clearInterval(p);let v=setInterval(()=>d(""),1500);b(v)}}else if(h.type==="result"){h.data.reduce((g,x)=>g+x,0)===0&&r(null);let v=[];h.data.forEach((g,x)=>{v.push({name:l.options[x],value:g})}),n(v)}else h.type==="clear"?(r(null),d("The answer has been cleared!"),setInterval(()=>d(""),1500)):h.type==="reset"&&(a(R),r(null),n([]))}},[t]),e($,{children:c("div",{className:"h-screen relative",children:[c("div",{className:"flex justify-between items-center pb-4 pr-10 header",children:[e("div",{className:"cursor-pointer p-4 text-yellow-600 hover:text-green-600 text-4xl items-center h-full flex justify-center",children:e(U,{to:"/login",children:"Admin"})}),e("div",{className:"flex justify-end tablet:text-12xl laptop:text-16xl mobile:text-6xl font-bold",children:"QUIZZY"})]}),c(Y,{children:[e(L,{path:"/",element:e(q,{answer:i,question:l,result:f,sendMessage:s,setAnswer:r,notice:o})}),e(L,{path:"/login",element:e(se,{sendMessage:s,setResult:n,result:f,question:l})})]})]})})}K.render(e(G.StrictMode,{children:e(ne,{})}),document.getElementById("root"));
